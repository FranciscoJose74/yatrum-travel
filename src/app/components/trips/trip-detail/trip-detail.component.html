<div class="ui centered grid">
  <div class="detail-margin row"></div>

  <div class="row">
    <div class="ten wide column banner">
      <div class="image">
      </div>
      <div class="trip-name">
        {{trip?.name}}
      </div>
      <div class="trip-user" [routerLink]="['/user', user.id]">
        <img class="" [src]="user.profile_pic?.url">
        <span class="user-name">
          {{user.name}}
        </span>
      </div>
      <div *ngIf="!(belongsToLoggedInUser() | async)" class="follow-user" (click)="onToggleFollow()">
        <i class="add user icon"
          [ngClass]="{'active': tripFollowState() == 'active', 'inactive': tripFollowState() == 'inactive'}">
        </i>
        {{tripFollowState() == "inactive" ? "Follow" : "Following"}}
      </div>
      <div class="trip-likes">
        {{trip?.trip_likes_count | humanize}} Likes
      </div>
      <div class="like-trip">
        <i class="thumbs up huge icon" 
          [ngClass]="{active: tripLikeState() == 'active'}"
          (click)="onToggleLike()">
        </i>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="ten wide column trip-activity">
      <div *ngFor="let place of trip?.places">
        <tr-place-detail [place]="place"></tr-place-detail>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="card ten wide column">
      <div *ngFor="let comment of comments$ | async" class="ui cards grid">
        <tr-trip-comment [comment]="comment" [authUser]="loggedInUser$ | async" class="card sixteen wide column"></tr-trip-comment>
      </div>

      <hr>
      
      <tr-new-trip-comment [authUser]="loggedInUser$ | async" [trip]="trip" class="ui cards grid"></tr-new-trip-comment>
    </div>
  </div>

</div>
